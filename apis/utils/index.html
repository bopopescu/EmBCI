<!DOCTYPE html>
<html >
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
      <title>Utilities</title>
    
      <link rel="stylesheet" href="../../_static/pygments.css">
      <link rel="stylesheet" href="../../_static/theme.css">
      <link rel="stylesheet" href="../../_static/sphinx_press_theme.css">
          <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>

      <!-- sphinx script_files -->
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>

      
      <script src="../../_static/theme-vendors.js"></script>
      <script src="../../_static/theme.js" defer></script>
    
  <link rel="index" title="Index" href="../../genindex.html" />
  <link rel="search" title="Search" href="../../search.html" />
  <link rel="next" title="Visualization" href="../viz/index.html" />
  <link rel="prev" title="Network IO" href="../io/server.html" /> 
  </head>

  <body>
    <div id="app" class="theme-container" :class="pageClasses"><navbar @toggle-sidebar="toggleSidebar">
  <router-link to="../../index.html" class="home-link">
    
      <span class="site-name">EmBCI</span>
    
  </router-link>

  <div class="links">
    <navlinks class="can-hide">

  
    <div class="nav-item">
      <a href="../../index.html#welcome-to-embci-s-user-guide"
         class="nav-link ">
         Quick start
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../../index.html#welcome-to-embci-s-user-guide"
         class="nav-link ">
         Docs
      </a>
    </div>
  



    </navlinks>
  </div>
</navbar>

      
      <div class="sidebar-mask" @click="toggleSidebar(false)">
      </div>
        <sidebar @toggle-sidebar="toggleSidebar">
          
          <navlinks>
            

  
    <div class="nav-item">
      <a href="../../index.html#welcome-to-embci-s-user-guide"
         class="nav-link ">
         Quick start
      </a>
    </div>
  
    <div class="nav-item">
      <a href="../../index.html#welcome-to-embci-s-user-guide"
         class="nav-link ">
         Docs
      </a>
    </div>
  



            
          </navlinks><div id="searchbox" class="searchbox" role="search">
  <div class="caption"><span class="caption-text">Quick search</span>
    <div class="searchformwrapper">
      <form class="search" action="../../search.html" method="get">
        <input type="text" name="q" />
        <input type="submit" value="Search" />
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </form>
    </div>
  </div>
</div><div class="sidebar-links" role="navigation" aria-label="main navigation">
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../../index.html#welcome-to-embci-s-user-guide">Quick start</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="../../readme.html" class="reference internal ">Getting Started</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../../readme_zh.html" class="reference internal ">项目简介</a>

            
          </li>

        
      </ul>
    </div>
  
    <div class="sidebar-group">
      <p class="caption">
        <span class="caption-text"><a href="../../index.html#welcome-to-embci-s-user-guide">Docs</a></span>
      </p>
      <ul class="">
        
          <li class="toctree-l1 "><a href="../../hardware/index.html" class="reference internal ">Hardware Reference</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../index.html" class="reference internal ">Software Reference</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../../apps/index.html" class="reference internal ">Applications</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../../service.html" class="reference internal ">Linux Service</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../../update.html" class="reference internal ">Updating</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../../config.html" class="reference internal ">Configurations</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../../Copyrights.html" class="reference internal ">Copyrights</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../../Changelog.html" class="reference internal ">Changelog</a>

            
          </li>

        
          <li class="toctree-l1 "><a href="../../TODO.html" class="reference internal ">TODOs</a>

            
          </li>

        
      </ul>
    </div>
  
</div>
        </sidebar>

      <page>
          <div class="body-header" role="navigation" aria-label="navigation">
  
  <ul class="breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
    
      <li><a href="../index.html">EmBCI Python API Reference</a> &raquo;</li>
    
    <li>Utilities</li>
  </ul>
  

  <ul class="page-nav">
  <li class="prev">
    <a href="../io/server.html"
       title="previous chapter">← Network IO</a>
  </li>
  <li class="next">
    <a href="../viz/index.html"
       title="next chapter">Visualization →</a>
  </li>
</ul>
  
</div>
<hr>
          <div class="content" role="main">
            
  <div class="section" id="module-embci.utils">
<span id="utilities"></span><h1>Utilities<a class="headerlink" href="#module-embci.utils" title="Permalink to this headline">¶</a></h1>
<p>Some utility functions and classes.</p>
<dl class="class">
<dt id="embci.utils.AttributeDict">
<em class="property">class </em><code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">AttributeDict</code><span class="sig-paren">(</span><em class="sig-param">*a</em>, <em class="sig-param">**k</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#AttributeDict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.AttributeDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.MutableMapping</span></code></p>
<p>Get items like JavaScript way, i.e. by attributes.</p>
<p class="rubric">Notes</p>
<p>When getting an attribute of the object, <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getattribute__()</span></code> will
be called:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">d</span><span class="o">.</span><span class="n">xxx</span>
<span class="o">&lt;==&gt;</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">xxx</span><span class="p">)</span>
<span class="o">&lt;==&gt;</span> <span class="n">d</span><span class="o">.</span><span class="fm">__getattribute__</span><span class="p">(</span><span class="s1">&#39;xxx&#39;</span><span class="p">)</span> <span class="o">+</span> <span class="n">d</span><span class="o">.</span><span class="fm">__getattr__</span><span class="p">(</span><span class="s1">&#39;xxx&#39;</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;bob&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">clear</span>  <span class="c1"># d.__getattribute__(&#39;clear&#39;)</span>
<span class="go">&lt;function clear&gt;</span>
</pre></div>
</div>
<p>If the object doesn’t have that attribute, <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getattribute__()</span></code> will
fail and then <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getattr__()</span></code> will be called. If <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getattr__()</span></code>
fails too, python will raise <code class="xref py py-exc docutils literal notranslate"><span class="pre">AttributeError</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;bob&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">name</span>
<span class="go">AttributeError: &#39;dict&#39; object has no attribute &#39;name&#39;</span>
</pre></div>
</div>
<p>Getting an item from a dict can be achieved by calling
<code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="o">&lt;==&gt;</span> <span class="p">(</span> <span class="n">d</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="ow">or</span> <span class="n">default</span> <span class="p">)</span>
<span class="n">d</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">&lt;==&gt;</span> <span class="n">d</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span>
<span class="go">KeyError: &#39;age&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">)</span>
<span class="go">KeyError: &#39;age&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="go">100</span>
</pre></div>
</div>
<p>Default <code class="code docutils literal notranslate"><span class="pre">dict.__getattr__</span></code> is not defined. Here we link it to
<code class="code docutils literal notranslate"><span class="pre">dict.get</span></code>. After modification, attributes like <a class="reference internal" href="#embci.utils.AttributeDict.pop" title="embci.utils.AttributeDict.pop"><code class="xref py py-attr docutils literal notranslate"><span class="pre">pop</span></code></a>,
<code class="xref py py-attr docutils literal notranslate"><span class="pre">keys</span></code> can be accessed by <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getattribute__()</span></code> and items can be
accessed by <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getattr__()</span></code> and <code class="xref py py-meth docutils literal notranslate"><span class="pre">__getitem__()</span></code>.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">AttributeDict</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;bob&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">keys</span>  <span class="c1"># call d.__getattribute__(&#39;keys&#39;)</span>
<span class="go">&lt;function keys&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="o">.</span><span class="n">name</span>  <span class="c1"># call d.__getattr__(&#39;name&#39;), i.e. d.get(&#39;name&#39;, None)</span>
<span class="go">&#39;bob&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span>  <span class="c1"># call d.__getitem__(&#39;age&#39;)</span>
<span class="go">20</span>
</pre></div>
</div>
<p>An element tree can be easily constructed by cascading
<a class="reference internal" href="#embci.utils.AttributeDict" title="embci.utils.AttributeDict"><code class="xref py py-class docutils literal notranslate"><span class="pre">AttributeDict</span></code></a> and <a class="reference internal" href="#embci.utils.AttributeList" title="embci.utils.AttributeList"><code class="xref py py-class docutils literal notranslate"><span class="pre">AttributeList</span></code></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">bob</span> <span class="o">=</span> <span class="n">AttributeDict</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;bob&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">20</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tim</span> <span class="o">=</span> <span class="n">AttributeDict</span><span class="p">({</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;tim&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="mi">2</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">AttributeList</span><span class="p">([</span><span class="n">tim</span><span class="p">,</span> <span class="n">bob</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alice</span> <span class="o">=</span> <span class="n">AttributeDict</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;alice&#39;</span><span class="p">,</span> <span class="n">age</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="nb">id</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">friends</span><span class="o">=</span><span class="n">l</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alice</span><span class="o">.</span><span class="n">friends</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="p">[</span><span class="s1">&#39;bob&#39;</span><span class="p">,</span> <span class="s1">&#39;tim&#39;</span><span class="p">]</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alice</span><span class="p">[</span><span class="s1">&#39;friends&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">tim</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">tim</span><span class="o">.</span><span class="n">friends</span> <span class="o">=</span> <span class="n">AttributeList</span><span class="p">([</span><span class="n">bob</span><span class="p">,</span> <span class="n">alice</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alice</span><span class="p">[</span><span class="s1">&#39;friends&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;friends&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="n">alice</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="method">
<dt id="embci.utils.AttributeDict.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">cls=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#AttributeDict.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.AttributeDict.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>A copy of self. Class of returned instance can be specified by the
optional second argument <cite>cls</cite>, default current class.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">AttributeDict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
<span class="go">embci.utils.AttributeDict</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">AttributeDict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span>
<span class="go">embci.utils.AttributeDict</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">AttributeDict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="nb">dict</span><span class="p">))</span>
<span class="go">dict</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">generate_list</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
<span class="go">        print(&#39;elements: &#39;, a, b)</span>
<span class="go">        return [a, b]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">AttributeDict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="n">generate_list</span><span class="p">))</span>
<span class="go">elements: 1, 2</span>
<span class="go">[1, 2]</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="embci.utils.AttributeDict.deepcopy">
<code class="sig-name descname">deepcopy</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">cls=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#AttributeDict.deepcopy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.AttributeDict.deepcopy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="embci.utils.AttributeDict.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">key</em>, <em class="sig-param">default=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#AttributeDict.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.AttributeDict.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="embci.utils.AttributeDict.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">key</em>, <em class="sig-param">default=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#AttributeDict.pop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.AttributeDict.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>If key is not found, d is returned if given, otherwise KeyError is raised.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="embci.utils.AttributeList">
<em class="property">class </em><code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">AttributeList</code><span class="sig-paren">(</span><em class="sig-param">*a</em>, <em class="sig-param">**k</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#AttributeList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.AttributeList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">collections.abc.MutableSequence</span></code></p>
<p>Get elements in list by attributes of them. It works much like a jQuery
init list. In this list, elements with an <cite>id</cite> attribute can be selected
by normal __getitem__ way.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">l</span> <span class="o">=</span> <span class="n">AttributeList</span><span class="p">([</span>
<span class="go">    {&#39;name&#39;: &#39;bob&#39;, &#39;age&#39;: 16},</span>
<span class="go">    {&#39;name&#39;: &#39;alice&#39;, &#39;age&#39;: 20},</span>
<span class="go">    {&#39;name&#39;: &#39;tim&#39;, &#39;age&#39;: 22}</span>
<span class="go">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">name</span>
<span class="go">[&#39;bob&#39;, &#39;alice&#39;, &#39;tim&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l</span><span class="o">.</span><span class="n">age</span>
<span class="go">[16, 20, 22]</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">l2</span> <span class="o">=</span> <span class="n">AttributeList</span><span class="p">([</span>
<span class="go">    {&#39;id&#39;: 999, &#39;name&#39;: &#39;dot&#39;},</span>
<span class="go">    {&#39;id&#39;: 1, &#39;name&#39;: &#39;line&#39;}</span>
<span class="go">    {&#39;id&#39;: 2, &#39;name&#39;: &#39;rect&#39;}</span>
<span class="go">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l2</span><span class="p">[</span><span class="mi">999</span><span class="p">]</span>
<span class="go">{&#39;id&#39;: 999, &#39;name&#39;: &#39;dot&#39;}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">l2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>  <span class="c1"># if `id` selector failed, normal list indexing is used</span>
<span class="go">{&#39;id&#39;: 999, &#39;name&#39;: &#39;dot&#39;}</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">l2</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">l2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># minus number is regarded as index</span>
<span class="go">True</span>
</pre></div>
</div>
<dl class="method">
<dt id="embci.utils.AttributeList.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">cls=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#AttributeList.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.AttributeList.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Instance method to make a shallow or deep copy of self.</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#embci.utils.AttributeDict.copy" title="embci.utils.AttributeDict.copy"><code class="xref py py-obj docutils literal notranslate"><span class="pre">AttributeDict.copy</span></code></a></dt><dd></dd>
</dl>
</div>
</dd></dl>

<dl class="method">
<dt id="embci.utils.AttributeList.deepcopy">
<code class="sig-name descname">deepcopy</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">cls=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#AttributeList.deepcopy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.AttributeList.deepcopy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="embci.utils.AttributeList.index">
<code class="sig-name descname">index</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">element</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#AttributeList.index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.AttributeList.index" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises ValueError if the value is not present.</p>
</dd></dl>

<dl class="method">
<dt id="embci.utils.AttributeList.insert">
<code class="sig-name descname">insert</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">index</em>, <em class="sig-param">value</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#AttributeList.insert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.AttributeList.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>S.insert(index, value) – insert value before index</p>
</dd></dl>

<dl class="method">
<dt id="embci.utils.AttributeList.pop">
<code class="sig-name descname">pop</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">index=-1</em>, <em class="sig-param">default=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#AttributeList.pop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.AttributeList.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise IndexError if list is empty or index is out of range.</p>
</dd></dl>

<dl class="method">
<dt id="embci.utils.AttributeList.remove">
<code class="sig-name descname">remove</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">element</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#AttributeList.remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.AttributeList.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>S.remove(value) – remove first occurrence of value.
Raise ValueError if the value is not present.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="embci.utils.BoolString">
<em class="property">class </em><code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">BoolString</code><a class="reference internal" href="../../_modules/embci/utils.html#BoolString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.BoolString" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></p>
<p>Create a real boolean string. Boolean table can be replaced.</p>
<p class="rubric">Notes</p>
<p><cite>bool(s)</cite> will always return <cite>True</cite> if length of <cite>s</cite> is non-zero.
This class is derived from <cite>str</cite> and make its instances real boolean.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">BoolString</span><span class="p">(</span><span class="s1">&#39;True&#39;</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">BoolString</span><span class="p">(</span><span class="s1">&#39;False&#39;</span><span class="p">))</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">BoolString</span><span class="p">(</span><span class="s1">&#39;Yes&#39;</span><span class="p">))</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">bool</span><span class="p">(</span><span class="n">BoolString</span><span class="p">(</span><span class="s1">&#39;Nop&#39;</span><span class="p">,</span> <span class="n">table</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;Nop&#39;</span><span class="p">:</span> <span class="kc">False</span><span class="p">}))</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="embci.utils.CachedProperty">
<em class="property">class </em><code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">CachedProperty</code><span class="sig-paren">(</span><em class="sig-param">func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#CachedProperty"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.CachedProperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Descriptor class to construct a property that is only computed once and
then replaces itself as an ordinary attribute. Deleting the attribute
resets the property.</p>
</dd></dl>

<dl class="class">
<dt id="embci.utils.LockedFile">
<em class="property">class </em><code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">LockedFile</code><span class="sig-paren">(</span><em class="sig-param">filename=None</em>, <em class="sig-param">*a</em>, <em class="sig-param">**k</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#LockedFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.LockedFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Context manager for creating temp &amp; auto-recycled &amp; locked files</p>
<p>Here’s something to be decleared on locking a file:</p>
<ol class="arabic simple">
<li><p>fcntl.lockf() most of the time implemented as a wrapper around the
fcntl() locking calls, which bound to processes, not file descriptors.</p></li>
<li><p>fcntl.flock() locks are bound to file descriptors, not processes.</p></li>
<li><p>On at least some systems, fcntl.LOCK_EX can only be used if the file
descriptor refers to a file opened for writing.</p></li>
<li><p>fcntl locks will be released after file is closed or by fcntl.LOCK_UN.</p></li>
</ol>
<dl class="method">
<dt id="embci.utils.LockedFile.acquire">
<code class="sig-name descname">acquire</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#LockedFile.acquire"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.LockedFile.acquire" title="Permalink to this definition">¶</a></dt>
<dd><p>Lock the file object with fcntl.flock</p>
</dd></dl>

<dl class="method">
<dt id="embci.utils.LockedFile.release">
<code class="sig-name descname">release</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">*a</em>, <em class="sig-param">**k</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#LockedFile.release"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.LockedFile.release" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="embci.utils.NameSpace">
<em class="property">class </em><code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">NameSpace</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#NameSpace"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.NameSpace" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="class">
<dt id="embci.utils.Singleton">
<em class="property">class </em><code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">Singleton</code><a class="headerlink" href="#embci.utils.Singleton" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="class">
<dt id="embci.utils.SingletonMeta">
<em class="property">class </em><code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">SingletonMeta</code><a class="reference internal" href="../../_modules/embci/utils.html#SingletonMeta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.SingletonMeta" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></p>
<p>Metaclass used to create Singleton classes.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">embci.utils</span> <span class="k">import</span> <span class="n">SingletonMeta</span><span class="p">,</span> <span class="n">Singleton</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Test2</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>                          <span class="c1"># Python 2 only</span>
<span class="go">        __metaclass__ = Singleton</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Test3</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">metaclass</span><span class="o">=</span><span class="n">SingletonMeta</span><span class="p">)</span>  <span class="c1"># Python 3 only</span>
<span class="go">        pass</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Test</span><span class="p">(</span><span class="nb">object</span><span class="p">,</span> <span class="n">Singleton</span><span class="p">)</span>                 <span class="c1"># Python 2 &amp; 3</span>
<span class="go">        def __init__(self, *a, **k):</span>
<span class="go">            self.args = a</span>
<span class="go">            self.kwargs = k</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Test</span><span class="p">()</span>
<span class="go">&lt;__main__.Test at 0x7f3e09e99390&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Test</span><span class="p">()</span>
<span class="go">&lt;__main__.Test at 0x7f3e09e99390&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Test</span><span class="p">()</span> <span class="o">==</span> <span class="n">Test</span><span class="p">()</span>
<span class="go">True</span>
</pre></div>
</div>
<p>Instance can be re-initalized by providing argument <cite>reinit</cite>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Test</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span><span class="o">.</span><span class="n">args</span>
<span class="go">(1, 2, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">Test</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">args</span>
<span class="go">(1, 2, 3)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">vars</span><span class="p">(</span><span class="n">Test</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="n">reinit</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">))</span>
<span class="go">{&#39;args&#39;: (2, 3, 4), &#39;kwargs&#39;: {&#39;verbose&#39;: 20}}</span>
</pre></div>
</div>
<dl class="method">
<dt id="embci.utils.SingletonMeta.clear">
<em class="property">classmethod </em><code class="sig-name descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#SingletonMeta.clear"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.SingletonMeta.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="embci.utils.SingletonMeta.remove">
<em class="property">classmethod </em><code class="sig-name descname">remove</code><span class="sig-paren">(</span><em class="sig-param">v</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#SingletonMeta.remove"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.SingletonMeta.remove" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="embci.utils.TempStream">
<em class="property">class </em><code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">TempStream</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#TempStream"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.TempStream" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Context manager to temporarily mask streams like <strong>stdout/stderr/stdin</strong>.</p>
<p class="rubric">Examples</p>
<p>You can redirect standard output to a file just like shell command
<code class="code docutils literal notranslate"><span class="pre">$</span> <span class="pre">python</span> <span class="pre">test.py</span> <span class="pre">&gt;</span> <span class="pre">/var/log/foo.log</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TempStream</span><span class="p">(</span><span class="n">stdout</span><span class="o">=</span><span class="s1">&#39;/var/log/foo.log&#39;</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;var/log/foo.log&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="go">bar</span>
</pre></div>
</div>
<p>If no target stream (file-like object) specified, a StringIO buffer is
used to collect message from origin stream. All string from buffers will
be saved in an AttributeDict and returned for easier usage.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># mask stdout and stderr to a string buffer</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">TempStream</span><span class="p">(</span><span class="s1">&#39;stdout&#39;</span><span class="p">,</span> <span class="s1">&#39;stderr&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">ts</span><span class="p">:</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="n">file</span><span class="o">=</span><span class="n">sys</span><span class="o">.</span><span class="n">stderr</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">type</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>
<span class="go">embci.utils.AttributeDict</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">str</span><span class="p">(</span><span class="n">ts</span><span class="p">)</span>
<span class="go">&quot;{&#39;stderr&#39;: &#39;error\n&#39;, &#39;stdout&#39;: &#39;hello&#39;}&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ts</span><span class="o">.</span><span class="n">stdout</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="n">ts</span><span class="p">[</span><span class="s1">&#39;stderr&#39;</span><span class="p">]</span>
<span class="go">&#39;hello error\n&#39;</span>
</pre></div>
</div>
<dl class="method">
<dt id="embci.utils.TempStream.disable">
<code class="sig-name descname">disable</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">*a</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#TempStream.disable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.TempStream.disable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="embci.utils.TempStream.disable_all">
<em class="property">classmethod </em><code class="sig-name descname">disable_all</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#TempStream.disable_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.TempStream.disable_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="embci.utils.TempStream.enable">
<code class="sig-name descname">enable</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#TempStream.enable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.TempStream.enable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="embci.utils.TempStream.get_string">
<code class="sig-name descname">get_string</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">stream=None</em>, <em class="sig-param">clean=False</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#TempStream.get_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.TempStream.get_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Current stream position is saved so that next time it will read from
where it left this time without cleaning.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="embci.utils.TimeoutException">
<em class="property">exception </em><code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">TimeoutException</code><span class="sig-paren">(</span><em class="sig-param">msg=None</em>, <em class="sig-param">sec=None</em>, <em class="sig-param">src=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#TimeoutException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.TimeoutException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="function">
<dt id="embci.utils.check_input">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">check_input</code><span class="sig-paren">(</span><em class="sig-param">prompt</em>, <em class="sig-param">answer={'': True</em>, <em class="sig-param">'y': True</em>, <em class="sig-param">'n': False}</em>, <em class="sig-param">timeout=60</em>, <em class="sig-param">times=3</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#check_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.check_input" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is to guide user make choices.</p>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">check_input</span><span class="p">(</span><span class="s1">&#39;This will call pip and try install pycnbi. [Y/n] &#39;</span><span class="p">,</span>
<span class="go">                {&#39;y&#39;: True, &#39;n&#39;: False})</span>
<span class="go">[1/3] This will call pip and try install pycnbi. [Y/n] 123</span>
<span class="go">Invalid input `123`! Choose from [ y | n ]</span>
<span class="go">[2/3] This will call pip and try install pycnbi. [Y/n] y</span>
<span class="go"># return True</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="embci.utils.debug">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">debug</code><span class="sig-paren">(</span><em class="sig-param">v=True</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#debug"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.debug" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="embci.utils.debug_helper">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">debug_helper</code><span class="sig-paren">(</span><em class="sig-param">v</em>, <em class="sig-param">name=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#debug_helper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.debug_helper" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="embci.utils.duration">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">duration</code><span class="sig-paren">(</span><em class="sig-param">sec</em>, <em class="sig-param">name=None</em>, <em class="sig-param">warning=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#duration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.duration" title="Permalink to this definition">¶</a></dt>
<dd><p>Want to looply execute some function every specific time duration?
You may use this deocrator factory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>sec</strong><span class="classifier">int</span></dt><dd><p>Minimum duration of executing function in seconds.</p>
</dd>
<dt><strong>name</strong><span class="classifier">str, optional</span></dt><dd><p>Identify task name. Default use id(function).</p>
</dd>
<dt><strong>warning</strong><span class="classifier">str, optional</span></dt><dd><p>Warn message to display if function is called too frequently.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@duration</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;__main__.testing&#39;</span><span class="p">,</span> <span class="n">warning</span><span class="o">=</span><span class="s1">&#39;cant call so frequently!&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">testing</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
<span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;time: </span><span class="si">%.1f</span><span class="s1">s, </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">time</span><span class="o">.</span><span class="n">clock</span><span class="p">(),</span> <span class="n">s</span><span class="p">))</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">while</span> <span class="mi">1</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">testing</span><span class="p">(</span><span class="s1">&#39;now you are executing testing function&#39;</span><span class="p">)</span>
<span class="gp">...</span>
<span class="go">time: 32.2s, now you are executing testing function</span>
<span class="go">cant call so frequently! # time: 33.2s</span>
<span class="go">cant call so frequently! # time: 34.2s</span>
<span class="go">time: 35.2s, now you are executing testing function</span>
<span class="go">cant call so frequently! # time: 36.2s</span>
<span class="go">cant call so frequently! # time: 37.2s</span>
<span class="gp">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="embci.utils.embedded_only">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">embedded_only</code><span class="sig-paren">(</span><em class="sig-param">reason='Skip execution on current platform'</em>, <em class="sig-param">retval=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#embedded_only"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.embedded_only" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="embci.utils.ensure_bytes">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">ensure_bytes</code><span class="sig-paren">(</span><em class="sig-param">str</em>, <em class="sig-param">unicode</em>, <em class="sig-param">bytes</em>, <em class="sig-param">...</em>, <em class="sig-param">sn) ==&gt; (b0</em>, <em class="sig-param">b1</em>, <em class="sig-param">...</em>, <em class="sig-param">bn</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#ensure_bytes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.ensure_bytes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="embci.utils.ensure_unicode">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">ensure_unicode</code><span class="sig-paren">(</span><em class="sig-param">str</em>, <em class="sig-param">unicode</em>, <em class="sig-param">bytes</em>, <em class="sig-param">...</em>, <em class="sig-param">sn) ==&gt; (u0</em>, <em class="sig-param">u1</em>, <em class="sig-param">...</em>, <em class="sig-param">un</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#ensure_unicode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.ensure_unicode" title="Permalink to this definition">¶</a></dt>
<dd><div class="graphviz"><img src="../../_images/graphviz-0d22ebb28b6d4dcc8f20f610b453f8679c3413a5.png" alt="digraph G {
label=&quot;Python2&quot;;
object -&gt; basestring -&gt; {&quot;str / bytes&quot;, unicode};
}" class="graphviz" /></div>
<div class="graphviz"><img src="../../_images/graphviz-285ca631d27206d283ff46c5d94fa64c926760de.png" alt="digraph G {
label=&quot;Python3&quot;;
object -&gt; {bytes, str};
}" class="graphviz" /></div>
<p>In python version prior to 3.0:</p>
<ul class="simple">
<li><p>str : 8-bits 0-255 char string</p></li>
<li><p>unicode : string heading with <code class="docutils literal notranslate"><span class="pre">u''</span></code></p></li>
</ul>
<p>In python3+:</p>
<ul class="simple">
<li><p>bytes: 8-bits 0-255 char string heading with <code class="docutils literal notranslate"><span class="pre">b''</span></code></p></li>
<li><p>str: unicode string</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>bytes is an alias to str in python2</p>
</div>
</dd></dl>

<dl class="function">
<dt id="embci.utils.format_size">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">format_size</code><span class="sig-paren">(</span><em class="sig-param">*a</em>, <em class="sig-param">**k</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#format_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.format_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn number of bytes into human-readable str. Bytes are abbrivated in
upper case, while bits use lower case. Only keyword arguments are accepted
because any positional arguments will be regarded as a size in bytes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>units</strong><span class="classifier">array of str</span></dt><dd><p>Default ‘Bytes’, ‘KB’, ‘MB’, ‘GB’, ‘TB’, ‘PB’.</p>
</dd>
<dt><strong>decimals</strong><span class="classifier">array of int</span></dt><dd><p>Default 0, 1, 2, 2, 2, 2. Estimated result: 10 Bytes, 1.0 KB, 1.12 MB,
1.23 GB, 1.34 TB, 1.45 PB.</p>
</dd>
<dt><strong>base</strong><span class="classifier">int</span></dt><dd><p>Default 1024, can be set to 1000.</p>
</dd>
<dt><strong>inbits</strong><span class="classifier">bool</span></dt><dd><p>Whether convert output to bits.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">format_size</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">10</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">u&#39;1023 B&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_size</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">10</span><span class="p">)</span>
<span class="go">u&#39;1.0 KB&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_size</span><span class="p">(</span><span class="mi">1024</span> <span class="o">*</span> <span class="mi">1024</span><span class="p">,</span> <span class="n">base</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="go">u&#39;1.048576 MB&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">format_size</span><span class="p">(</span><span class="mi">2</span><span class="o">**</span><span class="mi">30</span><span class="p">,</span> <span class="n">inbits</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">u&#39;8.00 Gb&#39;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="embci.utils.get_boolean">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">get_boolean</code><span class="sig-paren">(</span><em class="sig-param">v</em>, <em class="sig-param">table={'on': True</em>, <em class="sig-param">'none': False</em>, <em class="sig-param">'false': False</em>, <em class="sig-param">'0': False</em>, <em class="sig-param">'y': True</em>, <em class="sig-param">'n': False</em>, <em class="sig-param">'1': True</em>, <em class="sig-param">'true': True</em>, <em class="sig-param">'no': False</em>, <em class="sig-param">'yes': True</em>, <em class="sig-param">'off': False}</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#get_boolean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.get_boolean" title="Permalink to this definition">¶</a></dt>
<dd><p>convert string to boolean</p>
</dd></dl>

<dl class="function">
<dt id="embci.utils.get_config">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">get_config</code><span class="sig-paren">(</span><em class="sig-param">key</em>, <em class="sig-param">default=None</em>, <em class="sig-param">type=None</em>, <em class="sig-param">configfiles=None</em>, <em class="sig-param">section=None</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#get_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.get_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Get configurations from environment variables or config files.
EmBCI use <a class="reference external" href="https://en.wikipedia.org/wiki/INI_file">INI-Style</a>
configuration files with extention of <cite>.conf</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>key</strong><span class="classifier">str</span></dt><dd></dd>
<dt><strong>default</strong><span class="classifier">optional</span></dt><dd><p>Return <cite>default</cite> if key is not in configuration files or environ,</p>
</dd>
<dt><strong>type</strong><span class="classifier">function | class | None, optional</span></dt><dd><p>Convert function to be applied on the result, such as int or bool.</p>
</dd>
<dt><strong>configfiles</strong><span class="classifier">str | list of str, optional</span></dt><dd><p>Configuration filenames.</p>
</dd>
<dt><strong>section</strong><span class="classifier">str | None, optional</span></dt><dd><p>Section to search for key. Default None, search for each section.</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><code class="xref py py-mod docutils literal notranslate"><span class="pre">configparser</span></code></dt><dd></dd>
</dl>
</div>
<p class="rubric">Notes</p>
<p>Configuration resolving priority (from low to high):
- system configuration files (loaded in embci.configs)
- specified configuration file[s] (by argument <cite>configfiles</cite>)
- environment variables (os.environ)</p>
</dd></dl>

<dl class="function">
<dt id="embci.utils.input">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">input</code><span class="sig-paren">(</span><em class="sig-param">prompt=None, timeout=None, flist=[&lt;_io.TextIOWrapper name='&lt;stdin&gt;' mode='r' encoding='UTF-8'&gt;]</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.input" title="Permalink to this definition">¶</a></dt>
<dd><p>Read from a list of file-like objects (default only from sys.stdin)
and return raw string as python2 function <cite>raw_input</cite> do.</p>
<p>The optional second argument specifies a timeout in seconds. Both int
and float is accepted. If timeout, an error will be thrown out.</p>
<p>This function is PY2/3 &amp; Linux/Windows compatible (On Windows, only
sockets are supported; on Unix, all file descriptors can be used.)</p>
</dd></dl>

<dl class="function">
<dt id="embci.utils.load_configs">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">load_configs</code><span class="sig-paren">(</span><em class="sig-param">fn=None</em>, <em class="sig-param">*fns</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#load_configs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.load_configs" title="Permalink to this definition">¶</a></dt>
<dd><p>Read configuration files and return an AttributeDict.</p>
<p class="rubric">Notes</p>
<p>Configurations priority(from low to high):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">On</span> <span class="n">Unix</span><span class="o">-</span><span class="n">like</span> <span class="n">system</span><span class="p">:</span>
    <span class="n">project</span> <span class="n">config</span> <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;$</span><span class="si">{EmBCI}</span><span class="s2">/files/service/embci.conf&quot;</span>
     <span class="n">system</span> <span class="n">config</span> <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;/etc/embci/embci.conf&quot;</span>
       <span class="n">user</span> <span class="n">config</span> <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;~/.embci/embci.conf&quot;</span>

<span class="n">On</span> <span class="n">Windows</span> <span class="n">system</span><span class="p">:</span>
    <span class="n">project</span> <span class="n">config</span> <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;$</span><span class="si">{EmBCI}</span><span class="s2">/files/service/embci.conf&quot;</span>
     <span class="n">system</span> <span class="n">config</span> <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;$</span><span class="si">{APPDATA}</span><span class="s2">/embci.conf&quot;</span>
       <span class="n">user</span> <span class="n">config</span> <span class="n">file</span><span class="p">:</span> <span class="s2">&quot;$</span><span class="si">{USERPROFILE}</span><span class="s2">/.embci/embci.conf&quot;</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<p>This function accepts arbitrary arugments:</p>
<ul class="simple">
<li><p>one or more filenames</p></li>
<li><p>one list of filenames</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">load_configs</span><span class="p">(</span><span class="s1">&#39;~/.embci/embci.conf&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">load_configs</span><span class="p">(</span><span class="s1">&#39;/etc/embci.conf&#39;</span><span class="p">,</span> <span class="s1">&#39;~/.embci/embci.conf&#39;</span><span class="p">,</span> <span class="s1">&#39;no-exist&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">load_configs</span><span class="p">([</span><span class="s1">&#39;/etc/embci.conf&#39;</span><span class="p">,</span> <span class="s1">&#39;~/.embci/embci.conf&#39;</span><span class="p">],</span> <span class="s1">&#39;no-exist&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="embci.utils.mapping">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">mapping</code><span class="sig-paren">(</span><em class="sig-param">a</em>, <em class="sig-param">low=None</em>, <em class="sig-param">high=None</em>, <em class="sig-param">t_low=0</em>, <em class="sig-param">t_high=255</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#mapping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Mapping data to new array values all in duartion [low, high]</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>out</strong><span class="classifier">ndarray</span></dt><dd></dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mf">4.9</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mapping</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1024</span><span class="p">)</span>
<span class="go">array([   0.  ,  204.8 ,  512.  , 1003.52, 1024.  ], dtype=float32)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="embci.utils.mkuserdir">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">mkuserdir</code><span class="sig-paren">(</span><em class="sig-param">func</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#mkuserdir"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.mkuserdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Create user folder at <code class="docutils literal notranslate"><span class="pre">${DIR_DATA}/${username}</span></code> if it doesn’t exists.</p>
<p class="rubric">Examples</p>
<p>When used as a decorator, it will automatically detect arguments of wrapped
function to get the specified <cite>username</cite> argument and create its folder.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@mkuserdir</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">save_user_data</span><span class="p">(</span><span class="n">username</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">DIR_DATA</span><span class="p">,</span> <span class="n">username</span><span class="p">,</span> <span class="s1">&#39;data-1.csv&#39;</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">write_data_to_csv</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">save_user_data</span><span class="p">(</span><span class="s1">&#39;bob&#39;</span><span class="p">)</span>   <span class="c1"># folder ${DIR_DATA}/bob is already created</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">save_user_data</span><span class="p">(</span><span class="s1">&#39;jack&#39;</span><span class="p">)</span>  <span class="c1"># write_data_to_csv don&#39;t need to care this</span>
</pre></div>
</div>
<p>Or use it with username directly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">mkuserdir</span><span class="p">(</span><span class="s1">&#39;john&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">DIR_DATA</span><span class="p">)</span>
<span class="go">[&#39;example&#39;, &#39;bob&#39;, &#39;jack&#39;, &#39;john&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="embci.utils.null_func">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">null_func</code><span class="sig-paren">(</span><em class="sig-param">*a</em>, <em class="sig-param">**k</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#null_func"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.null_func" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="embci.utils.random_id">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">random_id</code><span class="sig-paren">(</span><em class="sig-param">length=8</em>, <em class="sig-param">choices='abcdefghijklmnopqrstuvwxyz0123456789'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#random_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.random_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a random ID composed of digits and lower ASCII characters.</p>
</dd></dl>

<dl class="function">
<dt id="embci.utils.timestamp">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">timestamp</code><span class="sig-paren">(</span><em class="sig-param">ctime=None</em>, <em class="sig-param">fmt='%Y-%m-%dT%H:%M:%SZ'</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#timestamp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Default ISO time string format</p>
</dd></dl>

<dl class="function">
<dt id="embci.utils.typename">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">typename</code><span class="sig-paren">(</span><em class="sig-param">obj</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#typename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.typename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="embci.utils.validate_filename">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">validate_filename</code><span class="sig-paren">(</span><em class="sig-param">*fns</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#validate_filename"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.validate_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate inputted filename according to system.</p>
</dd></dl>

<dl class="function">
<dt id="embci.utils.verbose">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">verbose</code><span class="sig-paren">(</span><em class="sig-param">func</em>, <em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#verbose"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Add support to any callable functions or methods to change verbose level
by specifying keyword argument <cite>verbose=’LEVEL’</cite>.</p>
<p>Verbose level can be int or bool or one of <cite>logging</cite> defined string
[‘NOTSET’, ‘DEBUG’, ‘INFO’, ‘WARNING’, ‘ERROR’, ‘CRITICAL’]</p>
<p class="rubric">Notes</p>
<p>Verbose level may comes from ways listed below (sorted by prority),
which also means this function can be used under these situations.</p>
<ol class="arabic simple">
<li><p>class default verbosity</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Testing</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="s1">&#39;INFO&#39;</span>
<span class="gp">... </span>    <span class="nd">@verbose</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">echo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="gp">... </span>        <span class="c1"># verbose = verbose or self.verbose</span>
<span class="gp">... </span>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>default argument</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@verbose</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">echo</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">echo</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">)</span>
<span class="go">hello</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>positional argument</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">echo</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>keyword argument</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">echo</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@verbose</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">echo</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">echo</span><span class="p">(</span><span class="s1">&#39;set log level to warning&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="s1">&#39;WARN&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">echo</span><span class="p">(</span><span class="s1">&#39;set log level to debug&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="s1">&#39;DEBUG&#39;</span><span class="p">)</span>
<span class="go">set log level to debug</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">echo</span><span class="p">(</span><span class="s1">&#39;mute message&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>  <span class="c1"># equals to verbose=ERROR</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">echo</span><span class="p">(</span><span class="s1">&#39;max verbose&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>    <span class="c1"># equals to verbose=NOTSET</span>
<span class="go">max verbose</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">echo</span><span class="p">(</span><span class="s1">&#39;default level&#39;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>  <span class="c1"># do not change verbose level</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="embci.utils.virtual_serial">
<code class="sig-prename descclassname">embci.utils.</code><code class="sig-name descname">virtual_serial</code><span class="sig-paren">(</span><em class="sig-param">verbose=20</em>, <em class="sig-param">timeout=120</em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/embci/utils.html#virtual_serial"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#embci.utils.virtual_serial" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a pair of virtual serial port at <code class="docutils literal notranslate"><span class="pre">/dev/pts/*</span></code>. Super useful
when debugging without a real UART device.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>verbose</strong><span class="classifier">bool | int</span></dt><dd><p>Logging level or boolean specifying whether print serial I/O data
count infomation to terminal. Default logging.INFO.</p>
</dd>
<dt><strong>timeout</strong><span class="classifier">int</span></dt><dd><p>Virtual serial connection will auto-break to save system resources
after waiting until timeout. -1 specifying never timeout. Default is
120 seconds (2 mins).</p>
</dd>
</dl>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><dl class="simple">
<dt><strong>flag_close</strong><span class="classifier">threading.Event</span></dt><dd><p>Set flag by <cite>flag_close.set</cite> to manually terminate the virtual
serial connection.</p>
</dd>
<dt><strong>port1</strong><span class="classifier">str</span></dt><dd><p>Master serial port.</p>
</dd>
<dt><strong>port2</strong><span class="classifier">str</span></dt><dd><p>Slave serial port.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">flag</span> <span class="o">=</span> <span class="n">virtual_serial</span><span class="p">(</span><span class="n">timeout</span><span class="o">=-</span><span class="mi">1</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
<p>Assuming it’s <code class="docutils literal notranslate"><span class="pre">/dev/pts/0</span> <span class="pre">--</span> <span class="pre">/dev/pts/1</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">serial</span><span class="o">.</span><span class="n">Serial</span><span class="p">(</span><span class="s1">&#39;/dev/pts/1&#39;</span><span class="p">,</span><span class="mi">115200</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span> <span class="o">=</span> <span class="n">serial</span><span class="o">.</span><span class="n">Serial</span><span class="p">(</span><span class="s1">&#39;/dev/pts/0&#39;</span><span class="p">,</span><span class="mi">115200</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;hello?</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
<span class="go">7</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m</span><span class="o">.</span><span class="n">read_until</span><span class="p">()</span>
<span class="go">&#39;hello?\n&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flag</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
          <div class="page-nav">
            <div class="inner"><ul class="page-nav">
  <li class="prev">
    <a href="../io/server.html"
       title="previous chapter">← Network IO</a>
  </li>
  <li class="next">
    <a href="../viz/index.html"
       title="next chapter">Visualization →</a>
  </li>
</ul><div class="footer" role="contentinfo">
      &#169; Copyright 2017-2019, Hankso and individual contributors.
    <br>
    Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1 with <a href="https://github.com/schettino72/sphinx_press_theme">Press Theme</a>.
</div>
            </div>
          </div>
      </page>
    </div>
    
    
  </body>
</html>